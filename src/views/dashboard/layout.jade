//-
//- Copyright © 2013 Spectrum IT Solutions Gmbh
//-
//- Firmensitz: Wien
//- Firmenbuchgericht: Handelsgericht Wien
//- Firmenbuchnummer: 393588g
//-
//- All Rights Reserved.
//-
//- The use and / or modification of this file is subject to
//- Spectrum IT Solutions GmbH and may not be made without the explicit
//- permission of Spectrum IT Solutions GmbH
//-

!!!
html(lang="en" ng-app="AdefyDashboard")
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=1")

    title Dashboard

    meta(name="description" content="")
    meta(name="author" content="Spectrum IT")
    meta(name="viewport" content="width=device-width, initial-scale=1")

    link(rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon")

    script(src="/js/vendor/pace.min.js")

    link(rel="stylesheet" href="/css/vendor/pace-flash.css")

    link(rel="stylesheet" href="/css/reset.css")
    link(rel="stylesheet" href="/css/vendor/chosen.min.css")
    link(rel="stylesheet" href="/css/vendor/select2.css")
    link(rel="stylesheet" href="/css/vendor/angular-toggle-switch.css")
    link(rel="stylesheet" href="/css/vendor/rickshaw.css")
    link(rel="stylesheet" href="//fonts.googleapis.com/css?family=Oleo+Script|Source+Sans+Pro:200,300,400,600,700,900")
    link(rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css")
    link(rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.4.3.min.css")
    link(rel="stylesheet" href="/css/styles.css")

    | <!--[if lt IE 9]>
    |   <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    | <![endif]-->

  body(ng-controller="AdefyRootController" ng-class="{withNotification: notification}").tk-proxima-nova
    header.navbar.cf
      #logo Adefy
      .menu.left.full
        a(href="/home/publisher", tab)
          i.fa.fa-fw.fa-home
          | Dashboard
        a(href="/reports", tab)
          i.fa.fa-fw.fa-signal
          | Reports
        a(href="/campaigns", tab)
          i.fa.fa-fw.fa-bullhorn
          | Campaigns
        a(href="/ads", tab)
          i.fa.fa-fw.fa-sitemap
          | Ads
        a(href="/apps", tab)
          i.fa.fa-fw.fa-rocket
          | Apps

      .menu.right
        a(href="/funds", tab) $ {{me.funds | number:2 }} Funds
        .da(dropdown, ng-click="toggleSelect()")
          i.fa.fa-fw.fa-cogs
          .dropdown(ng-show="isPopupVisible")
            a(href="/admin/home")
              i.fa.fa-fw.fa-user
              | Admin
            a(href="/settings")
              i.fa.fa-fw.fa-wrench
              | Settings
            a(form-modal template="/views/dashboard/account:feedback" title="Send feedback" 
              ok-button-text="Send" form-submit="sendFeedback()" form-object="feedback")
              i.fa.fa-fw.fa-comment
              | Feedback
            a
              i.fa.fa-fw.fa-question
              | Support
            a(href="/logout" target="_self")
              i.fa.fa-fw.fa-sign-out
              | Sign out
    .notification(ng-show="notification" ng-class="notification.type")
      span(ng-bind="notification.text")
      i.fa.fa-fw.fa-times-circle(ng-click="clearNotification()")
    .content(ng-view="")

    footer
      script(src="/js/vendor/jquery-2.0.3.min.js")
      script(src="/js/vendor/chosen.jquery.min.js")
      script(src="/js/vendor/select2.min.js")
      script(src="/js/vendor/Chart.min.js")
      script(src="/js/vendor/angular-1.2.2.min.js")
      script(src="/js/vendor/angular-resource.min.js")
      script(src="/js/vendor/angular-route.min.js")
      script(src="/js/vendor/angular-country-select.min.js")
      script(src="/js/vendor/angles.js")
      script(src="/js/vendor/angular.chosen.js")
      script(src="/js/vendor/raphael-2.1.0.min.js")
      script(src="/js/vendor/morris-0.4.3.min.js")

      script(src="/js/vendor/d3.min.js")
      script(src="/js/vendor/rickshaw.min.js")

      script.
        //var socket = io.connect("", { secure: true });
        window.AdefyDashboard = angular.module("AdefyDashboard", ["ngRoute", "ngResource", "countrySelect", "angles", "toggle-switch", "localytics.directives"]);

      //--
      //-- Route configs, and root controller
      //--

      if locals.admin
        script(src="/client/routes/admin.js")
      else
        script(src="/client/routes/normal.js")

      script(src="/client/controllers/AdefyRootController.js")

      //--
      //-- Root directives
      //--

      script(src="/client/directives/AdefyDropdownDirective.js")
      script(src="/client/directives/AdefyTabDirective.js")
      script(src="/client/directives/AdefyModalFormDirective.js")
      script(src="/client/directives/AdefyGraphDirective.js")
      script(src="/client/directives/AdefyToggleSwitchDirective.js")

      //--
      //-- Pages (controllers, factories, directives, and services)
      //--

      //- Accounts
      script(src="/client/pages/account/controllers/AdefyAccountFundsController.js")
      script(src="/client/pages/account/controllers/AdefyAccountSettingsController.js")

      //- Ads
      script(src="/client/pages/ads/controllers/AdefyAdDetailController.js")
      script(src="/client/pages/ads/controllers/AdefyAdIndexController.js")
      script(src="/client/pages/ads/controllers/AdefyAdMenuController.js")
      script(src="/client/pages/ads/factories/AdefyAdFactory.js")

      //- Apps
      script(src="/client/pages/apps/controllers/AdefyAppsCreateController.js")
      script(src="/client/pages/apps/controllers/AdefyAppsDetailsController.js")
      script(src="/client/pages/apps/controllers/AdefyAppsEditController.js")
      script(src="/client/pages/apps/controllers/AdefyAppsIndexController.js")
      script(src="/client/pages/apps/controllers/AdefyAppsMenuController.js")
      script(src="/client/pages/apps/factories/AdefyAppFactory.js")

      //- Campaigns
      script(src="/client/pages/campaigns/controllers/AdefyCampaignCreateController.js")
      script(src="/client/pages/campaigns/controllers/AdefyCampaignDetailsController.js")
      script(src="/client/pages/campaigns/controllers/AdefyCampaignEditController.js")
      script(src="/client/pages/campaigns/controllers/AdefyCampaignIndexController.js")
      script(src="/client/pages/campaigns/controllers/AdefyCampaignMenuController.js")
      script(src="/client/pages/campaigns/factories/AdefyCampaignFactory.js")

      //- Dashboards
      script(src="/client/pages/dashboards/controllers/AdefyDashboardAdvertiserController.js")
      script(src="/client/pages/dashboards/controllers/AdefyDashboardPublisherController.js")

      //- Reports
      script(src="/client/pages/reports/controllers/AdefyReportsAdsController.js")
      script(src="/client/pages/reports/controllers/AdefyReportsAppsController.js")
      script(src="/client/pages/reports/controllers/AdefyReportsCampaignsController.js")
      script(src="/client/pages/reports/controllers/AdefyReportsIndexController.js")

      if locals.admin
        script(src="/client/pages/admin/controllers/AdefyAdminIndexController.js")
        script(src="/client/pages/admin/controllers/AdefyAdminInvitesController.js")
        script(src="/client/pages/admin/controllers/AdefyAdminPublishersController.js")
        script(src="/client/pages/admin/controllers/AdefyAdminUsersController.js")
        script(src="/client/pages/admin/controllers/AdefyAdminMenuController.js")

      script(src="//use.typekit.net/udl8vci.js")
      script.
        try{Typekit.load();}catch(e){}
      // ferno │ .tk-proxima-nova
